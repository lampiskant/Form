<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Φόρμα Εγγραφής</title>
</head>
<body>
    <h2>Φόρμα Εγγραφής</h2>
    <form id="userForm">
        <input type="text" id="name" placeholder="Όνομα" required>
        <input type="email" id="email" placeholder="Email" required>
        <button type="submit">Υποβολή</button>
    </form>

    <script>
       const form = document.getElementById("myForm");

form.addEventListener("submit", async (event) => {
    event.preventDefault();

    const formData = new FormData(form);
    const data = Object.fromEntries(formData);  // Ανάγνωση των δεδομένων από τη φόρμα

    const response = await fetch("https://lislaaulzcxrfybfriqj.supabase.co/rest/v1/users", {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "apikey": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxpc2xhYXVsemN4cmZ5YmZyaXFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MDgwNDMsImV4cCI6MjA1NjE4NDA0M30.vd7nX88jly3j97IOqNUaH36RTbYxBo-e1en6H_lT_kQ", // Your anon-key
            "Authorization": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imxpc2xhYXVsemN4cmZ5YmZyaXFqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA2MDgwNDMsImV4cCI6MjA1NjE4NDA0M30.vd7nX88jly3j97IOqNUaH36RTbYxBo-e1en6H_lT_kQ", // Your anon-key (again for Authorization)
        },
        body: JSON.stringify(data),
        mode: "no-cors"  // Add no-cors mode to bypass CORS issues
    });

    console.log(response); // Για να δεις την απόκριση από το Supabase
});

    </script>
</body>
</html>
